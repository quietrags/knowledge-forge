<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Layout C: Focus Mode</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600&family=Source+Sans+3:wght@400;500;600&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Source Sans 3', sans-serif; background: #FAF8F5; color: #1C1917; font-size: 14px; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }

    .header { display: flex; align-items: center; justify-content: space-between; padding: 10px 24px; background: #fff; border-bottom: 1px solid #E7E5E0; flex-shrink: 0; }
    .logo { font-family: 'Cormorant Garamond', serif; font-size: 18px; font-weight: 600; }
    .toolbar { display: flex; gap: 6px; }
    .tool-btn { width: 36px; height: 36px; border: 1px solid #E7E5E0; background: #fff; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 16px; }
    .tool-btn.active { background: #ECFDF5; border-color: #059669; }
    .tool-btn:hover { background: #F5F2ED; }
    .mode-switch { display: flex; gap: 4px; background: #F5F2ED; padding: 4px; border-radius: 6px; }
    .mode-btn { padding: 6px 14px; border: none; background: transparent; border-radius: 4px; font-size: 13px; cursor: pointer; }
    .mode-btn.active { background: #fff; box-shadow: 0 1px 3px rgba(0,0,0,0.08); color: #059669; font-weight: 600; }

    .main { flex: 1; display: flex; overflow: hidden; }

    /* Focus area */
    .focus { flex: 1; display: flex; flex-direction: column; padding: 32px 48px; overflow-y: auto; max-width: 900px; margin: 0 auto; }
    .focus-header { margin-bottom: 24px; }
    .focus-topic { font-size: 12px; color: #A8A29E; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 4px; }
    .focus-title { font-family: 'Cormorant Garamond', serif; font-size: 28px; font-weight: 600; }

    /* Chronicle entries */
    .entry { margin-bottom: 28px; }
    .entry-meta { font-size: 11px; color: #A8A29E; margin-bottom: 6px; display: flex; align-items: center; gap: 8px; }
    .entry-dot { width: 6px; height: 6px; border-radius: 50%; background: #E7E5E0; }
    .entry-content { font-size: 16px; line-height: 1.8; }
    .entry-content strong { color: #059669; }
    .anchor { display: inline-block; padding: 2px 10px; background: #DBEAFE; color: #1E40AF; border-radius: 4px; font-size: 13px; font-weight: 500; }

    .entry.insight { background: linear-gradient(90deg, #ECFDF5 0%, #FAF8F5 100%); margin: 0 -48px 28px -48px; padding: 20px 48px; border-left: 4px solid #059669; }
    .entry.insight .entry-meta { color: #059669; font-weight: 600; }
    .entry.insight .entry-dot { background: #059669; }

    .entry.doubt { background: linear-gradient(90deg, #FFFBEB 0%, #FAF8F5 100%); margin: 0 -48px 28px -48px; padding: 20px 48px; border-left: 4px solid #F59E0B; }
    .entry.doubt .entry-meta { color: #F59E0B; font-weight: 600; }
    .entry.doubt .entry-dot { background: #F59E0B; }

    .entry.code { background: #1C1917; color: #E7E5E0; margin: 0 -48px 28px -48px; padding: 24px 48px; }
    .entry.code .entry-meta { color: #6B7280; }
    .entry.code .entry-dot { background: #6B7280; }
    .code-block { font-family: 'IBM Plex Mono', monospace; font-size: 14px; line-height: 1.8; margin-top: 12px; }
    .code-block .kw { color: #A78BFA; }
    .code-block .cmt { color: #6B7280; }
    .code-block .blank { background: #374151; padding: 2px 24px; border-radius: 3px; }

    /* Slide-out panel */
    .panel { position: fixed; top: 57px; right: 0; bottom: 52px; width: 340px; background: #fff; border-left: 1px solid #E7E5E0; transform: translateX(100%); transition: transform 0.25s ease; z-index: 50; display: flex; flex-direction: column; }
    .panel.open { transform: translateX(0); }
    .panel-header { padding: 16px 20px; border-bottom: 1px solid #E7E5E0; display: flex; align-items: center; justify-content: space-between; }
    .panel-title { font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; color: #A8A29E; }
    .panel-close { background: none; border: none; font-size: 18px; cursor: pointer; color: #A8A29E; }
    .panel-body { flex: 1; padding: 16px 20px; overflow-y: auto; }

    /* Panel content */
    .galaxy-node { display: flex; align-items: center; gap: 10px; padding: 10px 12px; border-radius: 6px; margin-bottom: 4px; cursor: pointer; }
    .galaxy-node:hover { background: #F5F2ED; }
    .galaxy-node.current { background: #ECFDF5; border-left: 3px solid #059669; }
    .node-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
    .node-dot.solid { background: #059669; }
    .node-dot.partial { background: linear-gradient(90deg, #2563EB 50%, #E7E5E0 50%); }
    .node-dot.explored { border: 2px solid #A8A29E; background: transparent; }
    .node-children { margin-left: 22px; padding-left: 12px; border-left: 1px solid #E7E5E0; }

    .curiosity-item { padding: 12px 0; border-bottom: 1px solid #F5F2ED; }
    .curiosity-item:last-child { border-bottom: none; }
    .curiosity-label { font-size: 10px; color: #A8A29E; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 4px; }
    .curiosity-text { font-size: 14px; }
    .curiosity-text strong { color: #1C1917; }

    /* Chat */
    .chat { background: #fff; border-top: 1px solid #E7E5E0; padding: 10px 24px; flex-shrink: 0; }
    .chat-input { width: 100%; max-width: 800px; margin: 0 auto; display: block; padding: 12px 16px; background: #F5F2ED; border: none; border-radius: 8px; font-size: 14px; }
    .chat-input:focus { outline: 2px solid #059669; background: #fff; }
  </style>
</head>
<body>
  <header class="header">
    <div class="logo">Knowledge Forge</div>
    <div class="toolbar">
      <button class="tool-btn" onclick="togglePanel('galaxy')" title="Knowledge Galaxy">üó∫</button>
      <button class="tool-btn" onclick="togglePanel('anchors')" title="Anchors">‚öì</button>
      <button class="tool-btn" onclick="togglePanel('code')" title="Code">üíª</button>
      <button class="tool-btn" onclick="togglePanel('curiosity')" title="Curiosity">üîç</button>
    </div>
    <div class="mode-switch">
      <button class="mode-btn active">build</button>
      <button class="mode-btn">understand</button>
      <button class="mode-btn">research</button>
    </div>
  </header>

  <main class="main">
    <div class="focus">
      <div class="focus-header">
        <div class="focus-topic">Constructing</div>
        <h1 class="focus-title">ReACT Agent Loops</h1>
      </div>

      <div class="entry">
        <div class="entry-meta"><span class="entry-dot"></span> Building from anchor</div>
        <div class="entry-content">
          Starting with <span class="anchor">print_debugging</span> ‚Äî you mentioned debugging with prints gives you <strong>visibility into execution</strong>. This is exactly what agents need. Without visible reasoning, you can't tell why an agent made a decision.
        </div>
      </div>

      <div class="entry insight">
        <div class="entry-meta"><span class="entry-dot"></span> üí° Insight captured</div>
        <div class="entry-content">
          <strong>"You can't see why it did what it did"</strong> ‚Äî you just constructed the core problem that ReACT solves. Agents without visible reasoning are black boxes. The Think step is like adding print statements to the agent's mind.
        </div>
      </div>

      <div class="entry code">
        <div class="entry-meta"><span class="entry-dot"></span> Scaffold: Complete the loop</div>
        <div class="code-block">
<span class="kw">def</span> react_step(agent, task):
    thought = agent.think(task)    <span class="cmt"># Reasoning visible</span>
    action = agent.act(thought)    <span class="cmt"># Based on thinking</span>
    observation = <span class="blank"></span>  <span class="cmt"># What goes here?</span>
    <span class="kw">return</span> observation
        </div>
      </div>

      <div class="entry doubt">
        <div class="entry-meta"><span class="entry-dot"></span> ‚ö†Ô∏è Boundary identified</div>
        <div class="entry-content">
          You asked <strong>"does it always need to observe?"</strong> ‚Äî excellent question. This is where ReACT has limits. Sometimes observation is expensive (API calls) or slow (waiting for results). We'll explore when to skip the observe step and act on assumptions.
        </div>
      </div>

      <div class="entry">
        <div class="entry-meta"><span class="entry-dot"></span> Next scaffold</div>
        <div class="entry-content">
          Now that you've identified the observe step, let's examine what happens when observation fails. What should the agent do if the search returns no results?
        </div>
      </div>
    </div>
  </main>

  <!-- Slide-out panels -->
  <div class="panel" id="panel-galaxy">
    <div class="panel-header">
      <span class="panel-title">Knowledge Galaxy</span>
      <button class="panel-close" onclick="closePanel()">√ó</button>
    </div>
    <div class="panel-body">
      <div class="galaxy-node"><span class="node-dot solid"></span> Prompting</div>
      <div class="galaxy-node"><span class="node-dot solid"></span> AI Agents</div>
      <div class="node-children">
        <div class="galaxy-node current"><span class="node-dot partial"></span> ReACT</div>
        <div class="galaxy-node"><span class="node-dot explored"></span> Tool Use</div>
      </div>
      <div class="galaxy-node"><span class="node-dot partial"></span> Memory</div>
      <div class="galaxy-node"><span class="node-dot explored"></span> RAG</div>
    </div>
  </div>

  <div class="panel" id="panel-curiosity">
    <div class="panel-header">
      <span class="panel-title">Neighboring Ideas</span>
      <button class="panel-close" onclick="closePanel()">√ó</button>
    </div>
    <div class="panel-body">
      <div class="curiosity-item">
        <div class="curiosity-label">Explore next</div>
        <div class="curiosity-text"><strong>Reflexion</strong> ‚Äî self-critique after observe, catching mistakes</div>
      </div>
      <div class="curiosity-item">
        <div class="curiosity-label">Alternative pattern</div>
        <div class="curiosity-text"><strong>Plan-and-Execute</strong> ‚Äî when to plan upfront vs react step-by-step</div>
      </div>
      <div class="curiosity-item">
        <div class="curiosity-label">Research seed</div>
        <div class="curiosity-text">"How do production agents handle API failures and timeouts?"</div>
      </div>
      <div class="curiosity-item">
        <div class="curiosity-label">Connection</div>
        <div class="curiosity-text">This connects to <strong>Memory</strong> ‚Äî agents remembering past observations</div>
      </div>
    </div>
  </div>

  <div class="chat">
    <input type="text" class="chat-input" placeholder="Continue the conversation...">
  </div>

  <script>
    let currentPanel = null;
    function togglePanel(name) {
      const panel = document.getElementById('panel-' + name);
      const btn = event.target;

      document.querySelectorAll('.panel').forEach(p => p.classList.remove('open'));
      document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));

      if (currentPanel === name) {
        currentPanel = null;
      } else {
        panel.classList.add('open');
        btn.classList.add('active');
        currentPanel = name;
      }
    }
    function closePanel() {
      document.querySelectorAll('.panel').forEach(p => p.classList.remove('open'));
      document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));
      currentPanel = null;
    }
  </script>
</body>
</html>
